\documentclass[]{report}
\usepackage{amsmath, amsthm, amssymb, amsfonts}
\usepackage[a4paper, total={5in, 8in}]{geometry}
\usepackage{tikz-cd} % used to draw commutative diagrams


% user defined commands go here
\newtheorem{theorem}{Theorem}[section]
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{defn}[theorem]{Definition}
\newtheorem{examples}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}

\begin{document}

\title{Introduction to Commutative Algebra}
\author{Amal M}
\date{January 4, 2021}
\maketitle

\begin{abstract}
    The motivation for the study of algebraic geometry is how algebraic objects (rings of rational functions) are associated with varieties (zeros of polynomials). This subject florished during the second half of the twentieth century. Algebraic geometry allows us to study the geometry arising from algebraic objects. Core to the deeper understanding of this subject is an understanding of the subject of commutative algebra which studies commutative rings and their ideals and modules. The purpose of the present project is to gain an understanding of commutative algebra through solving exercises from Atiyah-MacDonald's book, Introduction to Commutative Algebra. The reading project comprised of the study of the theory of rings and modules, their tensor product and exact sequences of rings and modules. The project concluded with a proof of the Going-Up Theorem.

\end{abstract}

\chapter{What is Algebraic Geometry?}

Algebraic Geometry is the study of curves. Specifically the study of the solution set of polynomial cuves which are called \textit{varieties}. For example a major branch of algebraic geometry is concerned with the study of special curves called \textif{elliptical curves}. For example, a curve defined by the polynomial equation
    $$y^2 = x^3+ ax + b$$

Which is one example of a variety, specifically \textif{a projective variety}. 

There are different types of such varieties and algebraic geometry provides a toolbox to study such problems where the solution set of cuves are considered as surfaces and rational functions on such a surfaces form a ring which suprisingly is seen to be, if interpreted correctly, equivalent to the surface which is being described. 

So in modern algebraic geometry to every ring $A$, we associated a set $X$ which is the set of all prime ideals of $A$. We find that this set called $Spec(A)$ or the \textif{spectrum} of the ring, has a topology on it which turns the set into a topological space. 

So algebraic geometry uses quite a lot of algebraic machinery. That is it uses a lot of important results from Commutative Algebra. 

% The statement of the theorems and proofs go here. Focus most effort here.
\chapter{Rings and Ideals}
\section{Basic Definitions}
\begin{defn} 
    A ring A is a set with two binary operations (addition and multiplication) such that
\begin{enumerate}
    \item A is an abelian group with respect to addition
    \item Multipicatio is associative $((xy)z = x(yz))$ and distributive over addition $(x(y+z) = xy+xz, (y+z)x = yx + zx)$.  
    \item $xy=yx$ for all $x,y\in A$. (for our purpose we consider only rings that commute)
    \item $\exists 1\in A$ such that $x1 = 1x = x$ for all $x\in A$. 
The identity element is unique. 
\end{enumerate}

If $1=0$ then for any $x\in A$ we have $x=x1=x0 =0$ so $A$ has only one element $0$.
\end{defn}

\begin{defn} A ring homomorphism is a mapping $f$ of a ring $A$ into a ring $B$ such that
    \begin{enumerate}
        \item $f(x+y) = f(x) + f(y)$ so that $f$ is a homomorphism of abelian groups.
        \item $f(xy) = f(x)f(y)$,
        \item $f(1) = 1$
    \end{enumerate}
\end{defn}

\begin{defn} A subset S of a ring A is a subring of A if S is closed under addition and multiplication and contains th identity element of A. 
\end{defn}

\section{Ideals and Quotients}
\begin{defn}
    An ideal $\mathfrak{a}$ of a ring A is a subset of A which is an additive subgroup and is such that $A\mathfrak{a\subseteq a}$.
\end{defn}

\begin{defn}
    The quotient group $A/\mathfrak{a}$ inherits a uniquely defined multiplication from $A$ which makes it into a ring. Called the quotient ring $A/\mathfrak{a}$. The elements of $A/\mathfrak{a}$ are the cosets of $\mathfrak{a}$ in A, and the mapping $\phi: A\rightarrow A/\mathfrak{a}$ which maps each $x\in A$ to its coset $x+\mathfrak{a}$ is a surjective ring homomorphism.
\end{defn}

\begin{prop}
    There is a one-to-one order-preserving correspondence between the ideals $\mathfrak{b}$ of A which contain $\mathfrak{a}$ and the ideals $\bar{\mathfrak{b}}$  of $A/\mathfrak{a}$, given by $\mathfrak{b} = \phi^{-1}(\bar{\mathfrak{b}})$.
\end{prop}

\section{Zero-Divisors, Nilpotent Elements, Units}

\begin{defn}
    A zero-divisor in a ring A is an element $x$ for which there exists $y\neq 0$ in A such that $xy=0$. A ring with no zero-divisors $\neq 0$ is called an *integral domain*.
\end{defn}

\begin{defn}
    An element $x\in A$ is nilpotent if $x^n=0$ for some $n>0$. A nilpotent element is a zero-divisor. A *unit* in A is an element $x$ such that $xy=1$ for some $y\in A$. The element $y$ is then uniquely determined by $x$ and is written $x^{-1}$. The units in A form a multiplicative abelian group.
\end{defn}

\begin{defn}
    The multiples $ax$ of an element $x\in A$ form a principal ideal, denoted by $(x)$ or $Ax$. $x$ is a unit $\Leftrightarrow (x) = A = (1)$. The zero ideal $(0)$ is usually denoted by 0. A *field* is a ring $A$ in which $1\neq 0$ and every non-zero element is a unit. Every field is an integral domain. 
\end{defn}

\begin{prop}
    Let A be a ring $\neq 0$. Then the following are equivalent:
    \begin{enumerate}
        \item A is a field
        \item the only ideals in A are $0$ and $(1)$.
        \item every homomorphism of $A$ into a non-zero ring $B$ is injective.
    \end{enumerate}
\end{prop}

\section{Prime and Maximal Ideals}

\begin{defn}
    An ideal $\mathfrak{p}$ in A is prime if $\mathfrak{p}\neq (1)$ and if $xy\in \mathfrak{p} \implies x \in \mathfrak{p}$ or $y \in \mathfrak{p}$.
An ideal $\mathfrak{m}$ in A is maximal if $\mathfrak{m} \neq (1)$ and if there is no ideal $\mathfrak{a}$ such that $\mathfrak{m\subset a\subset} (1)$. Equivalently:
$$\mathfrak{p} \text{ is prime } \Leftrightarrow A/\mathfrak{p} \text{ is an integral domain }$$
$$\mathfrak{m} \text{ is maximal } \Leftrightarrow A/\mathfrak{p} \text{ is a field }$$
Hence a maximal ideal is prime. But the converse is not true in general. 
\end{defn}

\begin{enumerate} 
    \item If $f: A \rightarrow B$ is a ring homomorphism and $\mathfrak{q}$ is a prime ideal in B, then $f^{-1}(\mathfrak{q})$ is a prime ideal in A, for $A/f^{-1}(\mathfrak{q})$ is isomorphic to a subring of $B/\mathfrak{q}$ and hence has no zero-divisor $\neq 0$. 
\end{enumerate}

\begin{theorem}
    Every commutative ring A (with identity) $\neq 0$ has at least one maximal ideal.
\end{theorem}

\begin{corollary}
    Every non-unit of A is contained in a maximal ideal.
\end{corollary}

\begin{defn}
    A ring A with exactly one maximal ideal $\mathfrak{m}$ is called a local ring. The field $k=A/\mathfrak{m}$ is called the residue field of A.
\end{defn}

\begin{exercise}
    A local ring contains no idempotent $\neq 0,1$. (Ex 12)
\end{exercise}

\begin{prop}
    \begin{enumerate}
        \item Let A be a ring and $\mathfrak{m} \neq (1)$ an ideal of A such that every $x\in A-\mathfrak{m}$ is a unit in A. Then A is a local ring and $\mathfrak{m}$ its maximal ideal. 
        \item Let A be a ring and $\mathfrak{m}$ a maximal ideal of A, such that every element of $\mathfrak{1+m}$ (every $1+x$ where $x\in \mathfrak{m}$) is a unit in A. Then A is a local ring.
    \end{enumerate}
\end{prop}

\begin{examples}
     $A = k[x_1, \cdots, x_n], k$ is a field. Let $f\in A$ be an irreducible polynomial. By unique factorization, the ideal $(f)$ is prime. 
 \end{examples}
 \begin{examples}
 $A = Z$. Every ideal in $Z$ is of the form $(m)$ for some $m\geq 0$. The ideal $(m)$ is prime $\Leftrightarrow \mathfrak{m} = 0$ or a prime number. All the ideals $(p)$, where $\mathfrak{p}$ is a prime number are maximal: $Z/(p)$ is a field of $p$ elements.
\end{examples}

\section{Nilradical and Jacobson Radical}

\begin{prop}
    The set $\mathfrak{N}$ of all nilpotent elements in a ring A is an ideal and $A/\mathfrak{N}$ has no nilpotent element $\neq 0$.
\end{prop}

\begin{defn}
    The ideal $\mathfrak{N}$ is called the nilradical of A. The following proposition gives an alternative definition of $\mathfrak{N}$:
\end{defn}

\begin{prop}
    The nilradical of $A$ is the intersection of all the prime ideals of A.
\end{prop}

\begin{defn}
    The Jacobson radical of $\mathfrak{R}$ of A is defined to be the intersection of all the maximal ideals of A. It can be characterized as follows:
\end{defn}

\begin{prop}
    $x\in \mathfrak{R} \Leftrightarrow 1-xy$ is a unit in A for all $y\in A$.
\end{prop}

\begin{exercise}
    Let $x$ be a nilpotent element of a ring $A$. Show that $\mathfrak{1+x}$ is a unit of $A$. Deduce that the sum of a nilpotent element and a unit is a unit. (Ex 1)
\end{exercise}

\begin{exercise}
    Let $A$ be a ring in which every element $x$ satisfies $x^n=x$ for some $n>1$ (depending on $x$). Show that every prime ideal in $A$ is maximal.
\end{exercise}

\section{Some properties of ideals}

\begin{defn}
    If $\mathfrak{a, b}$ are ideals in a ring A, their *ideal quotient* is 
$$\mathfrak{(a:b)} = \{x\in A: x\mathfrak{b\subseteq a}\}$$
which is an ideal. 
In particular, $(0:\mathfrak{b})$ is called the *annihilator* of $\mathfrak{b}$ and is also denoted by $\text{Ann}(\mathfrak{b})$.
\end{defn}

\begin{defn}
    If $\mathfrak{a}$ is any ideal of A, the radical of $\mathfrak{a}$ is
$$r(\mathfrak{a}) = \{x\in A: x^n\in \mathfrak{a} \text{ for some } n>0\}$$
If $\phi: A\rightarrow A/\mathfrak{a}$ is the standard homomorphism, then $r(\mathfrak{a}) = \phi^{-1}(\mathfrak{N}_{A/\mathfrak{a}})$ and hence $r(\mathfrak{a})$ is an ideal by (1.7).
\end{defn}

\begin{exercise}
    \begin{enumerate}
        \item $r(\mathfrak{a}) \supseteq \mathfrak{a}$
        \item $r(r(\mathfrak{a})) = r(\mathfrak{a})$
        \item $r(\mathfrak{ab}) = r(\mathfrak{a\cap b}) = r(\mathfrak{a}) \cap r(\mathfrak{b})$
        \item $r(\mathfrak{ab}) = (1) \Leftrightarrow \mathfrak{a} = (1)$
        \item $r(\mathfrak{a+b}) = r(r(\mathfrak{a}) + r(\mathfrak{b}))$
        \item If $\mathfrak{p}$ is prime, $r(\mathfrak{p}^n) = \mathfrak{p}$ for all $n>0$.
    \end{enumerate}
\end{exercise}

\begin{prop}
    The radical of an ideal $\mathfrak{a}$ is the intersection of the prime ideals which contain $\mathfrak{a}$.
\end{prop}

\begin{prop}
    $D =$ set of zero-divisors of $A = \bigcup_{x\neq 0} r(\text{Ann}(x))$.
\end{prop}

\begin{prop}
    Let $\mathfrak{a,b}$ be ideals in a ring A such that $r(\mathfrak{a}), r(\mathfrak{b})$ are coprime. Then $\mathfrak{a,b}$ are coprime.
\end{prop}

\begin{exercise}
    Let $\mathfrak{a}$ be an ideal $\neq (1)$ in a ring $A$. Show that $\mathfrak{a} = r(\mathfrak{a}) \Leftrightarrow \mathfrak{a}$ is an intersection of prime ideals. (Ex 9)
\end{exercise} 

\begin{exercise}
    Let $A$ be a ring and let $X$ be the set of all prime ideals of $A$. For each subset $E$ of $A$, let $V(E)$ denote the set of all prime ideals of $A$ which contain $E$. Prove that
    \begin{enumerate}
        \item if $\mathfrak{a}$ is the ideal generated by $E$, then $V(E) = V(\mathfrak{a}) = V(r(\mathfrak{a}))$.
        \item $V(0) = X, V(1) = \varnothing$.
        \item if $(E_i)_{i\in I}$ is an family of subsets of $A$, then
            $$V(\bigcup_{i\in I} E_i) = \bigcap_{i\in I} V(E_i)$$
        \item $V(\mathfrak{a\cap b}) = V(\mathfrak{ab}) = V(\mathfrak{a}) \cup V(\mathfrak{b})$ for any ideals $\mathfrak{a, b}$ of $A$. 
    \end{enumerate}
    These results show that the sets $V(E)$ satisfy the axioms for closed sets in a topological space. The resulting topology is called the Zariski Topology. The topological space $X$ is called the prime spectrum of $A$, and is written $\text{Spec}(A)$. (Ex 15)
\end{exercise}

\begin{exercise}
    Draw pictures of $\text{Spec}(\mathbb{Z}), \text{Spec}(\mathbb{R}), \text{Spec}(\mathbb{C}[x]), \text{Spec}(\mathbb{R}[x]), \text{Spec}(\mathbb{Z}[x])$. (Ex 16)
\end{exercise}
       
\begin{exercise}
    For each $f\in A$, let $X_f$ denote the complement of $V(f)$ in $X = \text{Spec}(A)$. The sets $X_f$ are open. Show that they form a basis of open sets for the Zariski topology, and that
    \begin{enumerate}
        \item $X_f \cap X_g = X_{fg}$
        \item $X_f = \varnothing \Leftrightarrow f$ is nilpotent.
        \item $X_f = X \Leftrightarrow f$ is a unit.
        \item $X_f = X_g \Leftrightarrow r((f)) = r((g))$.
        \item $X$ is a quasi-compact (that is, every open covering of $X$ has a finite subcovering).
        \item More generally, each $X_f$ is quasi-compact.
        \item An open subset of $X$ is quasi-compact if and only if it is a finite union of sets $X_f$. 
    \end{enumerate}
    The sets $X_f$ are called basic open sets of $X = \text{Spec}(A)$. (Ex 17)
\end{exercise}

\begin{exercise}
    For psychological reasons it's sometimes convenient to denote a prime ideal of $A$ by a letter such as $x$ or $y$ when thinking of it as a point of $X = \text{Spec}(A)$. When thinking of $x$ as a prime ideal of $A$, we denote it by $\mathfrak{p}_x$ (logically, of course, it is the same thing). Show that
    \begin{enumerate}
    \item the set $\{x\}$ is closed (we say that $x$ is a "closed point") in $\text{Spec}(A) \Leftrightarrow \mathfrak{p}_x$ is maximal.
    \item  $\bar{\{x\}} = V(\mathfrak{p}_x)$.
    \item $y\in \bar{\{x\}} \Leftrightarrow \mathfrak{p}_x \subseteq \mathfrak{p}_y$. 
    \item $X$ is a $T_0$-space (this means that if $x, y$ are distinct points of $X$, then either there is a neighborhood of $y$ which does not contain $A$).
    \end{enumerate}
    (Ex 18)
\end{exercise}

\begin{exercise}
    A topological space $X$ is said to be irreducible if $X \neq \varnothing$ and if every pair of non-empty open sets in $X$ intersect, or equivalently if every non-empty open set is dense in $X$. Show that $\text{Spec}(A)$ is irreducible if and only if the nilradical of $A$ is a prime ideal. 
    (Ex 19)
\end{exercise}

\begin{exercise}
    Let $X$ be a topological space.
    \begin{enumerate}
        \item If $Y$ is an irreducible (Ex 19) subspace of $X$, then the closure $\bar{Y}$ of $Y$ in $X$ is irreducible.
        \item Every irreducible subspace of $X$ is contained in a maximal irreducible subspace. 
        \item The maximal irreducible subspaces of $X$ are closed and cover $X$. They are called the irreducible components of $X$. What are the irreducible components of a Hausdorff space?
        \item If $A$ is a ring and $X = \text{Spec}(A)$, then the irreducible components of $X$ are the closed sets $V(\mathfrak{p})$, where $\mathfrak{p}$ is a maximal prime ideal of $A$. (Ex 8)
    \end{enumerate}
    (Ex 20)
\end{exercise}

\begin{exercise}
    Let $\phi: A\rightarrow B$ be a ring homomorphism. Let $X = \text{Spec}(A)$ and $Y = \text{Spec}(B)$. If $\mathfrak{q}\in Y$, then $\phi^{-1}(\mathfrak{q})$ is a prime ideal of $A$, i.e., a point of $X$. Hence $\phi$ induces a mapping $\phi^*: Y\rightarrow X$. Show that
    \begin{enumerate}
        \item If $f\in A$ then $\phi^{*-1}(X_f) = Y_{\phi(f)}$, and hence that $\phi^*$ is continuous.
        \item If $\mathfrak{a}$ is an ideal of $A$, then $\phi^{*-1}(V(\mathfrak{a})) = V(\mathfrak{a}^e)$. 
        \item If $\mathfrak{b}$ is an ideal of $B$, then $\bar{\phi^*(V(\mathfrak{b}))} = V(\mathfrak{b}^e)$. 
        \item If $\phi$ is surjective, then $\phi^*$ is a homeomorphism of $Y$ onto the closed subset $V(Ker(\phi))$ of $X$. (In particular, $\text{Spec}(A)$ and $\text{Spec}(A/\mathfrak{N})$ (where $\mathfrak{N}$ is the nilradical of $A$) are naturally homeomorphic.)
        \item If $\phi$ is injective, then $\phi^*(Y)$ is dense in $X$. More precisely, $\phi^*(Y)$ is dense in $X\Leftrightarrow Ker(\phi) \subseteq \mathfrak{N}$.
        \item Let $\psi: B\rightarrow C$ be another ring homomorphism. Then $(\psi \circ \phi)^* = \phi^* \circ \psi^*$. 
        \item Let $A$ be an integral domain with just one non-zero prime ideal $\mathfrak{p}$, and let $K$ be the field of fractions of $A$. Let $B = (A/\mathfrak{p}) \times K$. Define $\phi: A\rightarrow B$ by $\phi(x) = (\bar{x}, x)$, where $\bar{x}$ is the image of $x$ in $A/\mathfrak{p}$. Show that $\phi^*$ is bijective but not a homeomorphism.
    \end{enumerate}
    (Ex 21)
\end{exercise}

\begin{exercise}
    Let $A$ be a ring. The subspace of $\text{Spec}(A)$ consisting of the maximal ideals of $A$, with the induced topology, is called the maximal spectrum of $A$ and is denoted by $\text{Max}(A)$. For arbitary commutative rings it does not have the nice functorial properties of $\text{Spec}(A)$ (see Ex 21), because the inverse image of a maximal ideal under a ring homomorphism need not be maximal.
    Let $X$ be a compact Hausdorff space and let $C(x)$ denote the ring of all real-valued continuous functions on $X$ (add and multiply functions by adding and multiplying their values). For each $x\in X$, let $\mathfrak{m}_x$ is maximal, because it is the kernel of the (surjective) homomorphism $C(X) \rightarrow \mathbb{R}$ which takes $f$ to $f(x)$. If $\hat{X}$ denotes $\text{Max}(C(X))$, we have therefore defined a mapping $\mu: X\rightarrow \hat{X}$, namely $x\mapsto \mathfrak{m}_x$. 
    We shall show that $\mu$ is a homeomorphism of $X$ onto $\hat{X}$. 
    \begin{enumerate}
        \item Let $\mathfrak{m}$ be any maximal ideal of $C(X)$, and let $V = V(\mathfrak{m})$ be the set of common zeros of the functions in $\mathfrak{m}$: that is,
            $$V =\{x \in X: f(x) = 0 \text{ for all } f\in \mathfrak{m}\}.$$
            Suppose that $V$ is empty. Then for each $x\in X$ there exists $f_x \in \mathfrak{m}$ such that $f_x(x) \neq 0$. Since $f_x$ is continuous, there is an open neighborhood $U_x$ of $x$ in $X$ on which $f_x$ does not vanish. By compactness a finite number of the neighborhoods, say $U_{x_1},\cdots,U_{x_n}$ cover $X$. Let
            $$f = f^2_{x_1} + \cdots + f^2_{x_n}.$$
            Then $f$ does not vanish at any point of $X$, hence is a unit in $C(X)$. But this contradicts $f\in \mathfrak{m}$, hence $V$ is not empty.
            Let $x$ be a point of $V$. Then $\mathfrak{m} \subseteq \mathfrak{m}_x$, hence $\mathfrak{m} = \mathfrak{m}_x$ because $\mathfrak{m}$ is maximal. Hence $\mu$ is surjective.
        \item By Urysohn's lemma (this is the only non-trivial fact required in the argument) the continuous functions separate the points of $X$. Hence $x\neq y \Rightarrow \mathfrak{m}_x \neq \mathfrak{m}_y$, and therefore $\mu$ is injective. 
        \item Let $f\in C(x)$; let
            $$U_f = \{x\in X:f(x) \neq 0\}$$
            and let
            $$\hat{U}_f = \{\mathfrak{m} \in \hat{X}: f\not\in \mathfrak{m}\}$$
            Show that $\mu(U_f) = \hat{U}_f$. The open sets $U_f$ (resp. $\hat{U}_f$) form a basis of the topology of $X$ (resp. $\hat{X}$) and therefore $\mu$ is a homeomorphism.
            Thus $X$ can be reconstructed from the ring of functions $C(X)$. 
    \end{enumerate}
    (Ex 26)
\end{exercise}

\begin{exercise}
    Let $k$ be an algebraically closed field and let
        $$f_\alpha(t_1,\cdots,t_n) = 0$$
    be a set of polynomial equations in $n$ variables with coefficients in $k$. The set $X$ of all points $x = (x_1,\cdots,x_n)\in k^n$ which satisfy these equations is an affine algebraic variety.

    Consider the set of all polynomials $g\in k[t_1,\cdots,t_n]$ with the property that $g(x) = 0$ for all $x\in X$. This set is an ideal $I(X)$ in the polynomial ring, and is called the ideal of the variety $X$. The quotient ring
        $$P(X) = k[t_1,\cdots,t_n]/I(X)$$
    is the ring of polynomial functions on $X$, because two polynomials $g, h$ define the same polynomial function on $X$ if an only if $g-h$ vanishes at every point of $X$, that is, if and only if $g-h\in I(X)$.

    Let $\xi_i$ be the image of $t_i$ in $P(X)$. The $\xi_i (1\leq i \leq n)$ are the coordinate functions on $X$: if $x\in X$, then $\xi_i(x)$ is the $i$th coordinate of $x$. $P(X)$ is generated as a $k$-algebra by the coordinate functions, and is called the coordinate ring (or affine algebra) of $X$.

    As in Ex 26, for each $x\in X$ let $\mathfrak{m}_x$ be the ideal of all $f\in P(X)$ such that $f(x) = 0$; it is maximal ideal of $P(X)$. Hence, if $\hat{X} = \text{Max}(P(X))$, we have defined a mapping $\mu: X\rightarrow \hat{X}$, namely $x\mapsto \mathfrak{m}_x$.

    It is easy to show that $\mu$ is injective: if $x\neq y$, we must have $x_i \neq y_i$ for some $i(1\neq i\neq n)$, and hence $\xi_i = x_i$ is in $\mathfrak{m}_x$ but not in $\mathfrak{m}_y$, so that $\mathfrak{m}_x \neq \mathfrak{m}_y$. What is less obvious (but still true) is that $\mu$ is surjective. This is one form of Hilbert's Nullstellensatz.
    (Ex 27)
\end{exercise}

\begin{exercise}
    Let $f_1,\cdots,f_m$ be elements of $k[t_1,\cdots,t_n]$. They determine a polynomial mapping $\phi: k^n\rightarrow k^m$: if $x\in k^n$, the coordinates of $\phi(x)$ are $f_1(x),\cdots,f_m(x)$.

    Let $X,y$ be affine algebraic varieties in $k^n$, $k^m$ respectively. A mapping $\phi: X\rightarrow Y$ is said to be regular if $\phi$ is the restriction to $X$ of a polynomial mapping from $k^n$ be $k^m$.

    If $\eta$ is a polynomial function on $Y$, then $\eta \circ \phi$ is a polynomial function on $X$. Hence $\phi$ induces a $k$-algebra homomorphism $P(Y)\rightarrow P(X)$, namely $\eta \mapsto \eta \circ \phi$.

    Show that in this way we obtain a one-to-one correspondence between the regualr mappings $X\mapsto Y$ and the $k$-algebra homomorphisms $P(Y) \rightarrow P(X)$.
    (Ex 28)
\end{exercise}
    


% End of Chapter

\chapter{Modules}

\section{Modules and Module homomorphisms}

\begin{defn}
    Let $M$ be an abelian group and let A be a commutative ring that acts *linearly* on M. If we denote $\mu(a,x) = ax,$ where $a\in A, x \in M$ and the following axioms are satisfied,
    \begin{enumerate}
        \item $a(x+y) = ax + ay$
        \item $(a+b)x = ax + bx$
        \item $(ab)x = a(bx)$
        \item $1x = x$, 
 ($\forall a,b \in A, \forall x,y \in M$.)
    \end{enumerate}
 
Then $(M,\mu)$ is called a module
\end{defn}

\section{Submodules and Quotient Modules}

\begin{defn}
    A submodule $M'$ of $M$ is a subgroup that is closed under multiplication by elements of $A$. The quotient $M/M'$ is also an A-module is the action of $A$ on the quotient is $a(x + M') = ax + M'$.
\end{defn}

\begin{defn}
    If $f:M \rightarrow N$ A-module homomorphism then,
    \begin{enumerate}
        \item $Ker(f) = \{x \in M: f(x) = 0\}$
        \item $Im(f) = f(M)$
        \item The cokernel of f is denoted by, $Coker(f) = N/Im(f)$
    \end{enumerate}
\end{defn}

\begin{prop}
    There is a one-to-one order preserving correspondence between the submodules of $M$ containing the submodule $M'$ and the submodules of the quotient $M/M'$. The correspondence for ideals is a special case of this proposition. 
\end{prop}

\begin{defn} (Induced homomorphism)
    If $M' \subseteq Ker(f)$. Define $\bar f: M/M' \rightarrow N$ as $\bar f(\bar x) = f(x)$. Then it is a homomorphism and it is said to be induced by $f$. Specially we have, $Ker(\bar f) = Ker(f)/M'$.

If we take $Ker(f) = M'$ we have that $M/Ker(f) \cong Im(f)$.
\end{defn}

\begin{prop}
    \begin{enumerate}
        \item If $L \supseteq M \supseteq N$ are A-modules, then 
$$\frac{L/N}{M/N} = L/M.$$
    \item If $M_1,M_2$ are submodules of $M$, then
$$(M_1+M_2)/M_1 \cong M_2/(M_1 \cap M_2).$$
    \end{enumerate}
\end{prop}

\subsection{Some important notes}
\begin{enumerate}
    \item The product $aM$ where $a$ is an ideal is the set of all finite sums $\sum a_i x_i$ with $a_i \in a, x_i \in M$. 
    \item If $N,P$ are submodules of M then $(N:P) = \{a\in A: aP \subseteq N\}$.
    \item The annihilator, $Ann(M) = (0,M) = \{a\in A: aM=0\}$
    \item An A-module is called *faithful* if $Ann(M) = 0$.
    \item If $a \subseteq Ann(M)$ we can define $M$ as an $A/a$-module by setting $\bar x m = xm$, $\bar x\in A/a, m\in M$. This is true as $x,y\in \bar x$ then $x-y \in a$ hence $(x-y)m = 0 \implies xm = ym$. So it's indepenent of the choice of the representative of $\bar x$. 
    \item If $Ann(M) = a$, then $M$ is faithful as an $A/a-$module.
\end{enumerate}

\section{Direct Sum and Product}

\begin{defn} (Direct Sum) Given two A-moduels M and N their direct product denoted by $M \oplus N$ is defined as the set of all pair $(x,y)$ such that $x \in M$ and $y \in N$ and is an A-module by,
$$(x_1,y_1) + (x_2,y_2) = (x_1+x_2, y_1+y_2)$$ 
$$a.(x,y) = (ax,ay)$$
 
If $(M_i)_{i\in I}$ is a family of A-modules then the direct sum $\oplus_{i\in I} M_i$ is the set of all $(x_i)_{i\in I}$ such that all but finitely many $x_i$ are zero. 
\end{defn}

\begin{defn} (Direct Product) The direct product of a family of A-modules denoted by $\prod_{i\in I} M_i$, is exactly the same as the direct sum if $I$ is finite. Otherwise the only difference is that $(x_i)_{i\in I}$ does not have the condition that $x_i$ must be zero for all but finitely many $x_i$.
\end{defn}


\section{Finitely Generated Module}

\begin{defn} A module M is said to be finitely generated if it can be expressed as $M = \sum_{i\in I} Ax_i$. That is each $m\in M$ can be expressed as a finite linear combination of elements in A with $x_i$. If the number of $x_i$ is finite then the module is said to be a finitely generated A-module. 
\end{defn}

\subsection{Free Module}

\begin{defn} A finitely generated free A-module is a module that's isomorphic to $A \oplus \cdots \oplus A$ denoted as $A^{(n)}$ (n summands). If we remove the restriction of being finite a free A-module is isomorphic to a module of the form $\oplus_{i\in I}M_i$, where $M_i$ are A-modules isomorphic to $A$. 
* $A^0$ is the zero module denoted by $0$. 
\end{defn}

\begin{prop} $M$ is a finitely generated A-module if and only if $M$ is isomorphic to a quotient of $A^n$ for some $n>1$. 
\end{prop}

\begin{defn} Let $M$ be a finitely generated A-module and $a\subseteq A$ be an ideal of $M$. If $\phi$ is an endomorphism of $M$ such that $\phi(M) \subseteq aM$ then $\phi$ satisfies a polynomial equation in $\phi$,
$$\phi^n + a_1 \phi^{n-1} + \cdots + a^n = 0,$$
for some $a_i \in a$. 
\end{defn}

\begin{corollary} If $M$ is a finitely generated module such that  for an ideal $a \subseteq A$, $aM = M$ then there exists an $x \equiv 1 ( mod\ a)$ such that $xM = 0$. 
\end{corollary}

\begin{prop} (Nakayama's lemma) If $M$ is a finitely generated module and $a \subseteq A$ is an ideal of $A$ contained in the Jacobson radical of $A$ then $aM = M$ implies that $M = 0$. 
\end{prop}

\begin{prop} Suppose $M$ is finitely generated A-module and $a$ is an ideal contained in the Jacobson radical of $A$ then $aM = M + N$ implies that $M = N$ for any submodule $N$ of $M$. 
\end{prop}

\begin{prop} Let $x_i$ be element of $M$ whose image in $M/mM$ are the basis of this vector space. Then the $x_i$ generate $M$.	
\end{prop}

\section{Exact Sequence}

\begin{defn}
A sequence of A-modules and A-homomorphisms,
$$\cdots \rightarrow M_{i-1} \rightarrow^{f_i} M_i \rightarrow^{f_{i+1}} M_{i+1} \rightarrow \cdots$$ 
is said to be exact at $M_i$ if, $Ker(f_{i+1}) = Im{f_i}$. The sequence is exact if it is exact at each $M_i$. 
\end{defn}

\begin{enumerate}
    \item $0 \rightarrow M' \rightarrow^{f} M$ is exact $\Leftrightarrow$ $f$ is inective.
    \item $M \rightarrow^{g} M'' \rightarrow 0$ is exact $\Leftrightarrow$ $g$ is surjective. 
    \item $0 \rightarrow M' \rightarrow^{f} M \rightarrow^{g} M'' \rightarrow 0$ is exact $\Leftrightarrow$ $f$ is injective and $g$ is surjective. But also $Coker(f) = M/f(M')$ is isomorphic to $M''$. \item This type of exact sequence is also called a short exact sequence. Any exact sequence can be split up into a collection of short exact sequences. If $N_i = Im(f_i) = Ker(f_{i+1})$ we have the short exact sequence $0\rightarrow N_i \rightarrow M_i \rightarrow N_{i+1} \rightarrow 0$ for each $i$. 
\end{enumerate}

\section{Tensor Product of Modules}

\begin{defn} (Tensor product) The tensor product of two A-modules M and N is the A-module $M\otimes N$ of all linear combination of the pair $x \otimes y$ with coefficients in $A$ along with the following properties,
    \begin{enumerate}
        \item $(x + x') \otimes y = x \otimes y + x' \otimes y$
        \item $x \otimes (y + y') = x \otimes y + x \otimes y'$
        \item $a.x \otimes y = x \otimes a.y = a(x \otimes y)$
    \end{enumerate}
\end{defn}

Properties:
\begin{enumerate}
    \item $0 \otimes x = 0$
    \item If $x_i$ generates M and $y_i$ generates N then $x_i \otimes y_i$ generates $M\otimes N$. 
    \item Let $x\in M$ and $y\in N$ if $M' \subseteq M$ and $N'\subseteq N$ are submodules then $x\otimes y \in M\otimes N$ is not the same as $x\otimes y \in M'\otimes N'$ 
    \item To be specific the tensor product of A-modules is denoted by $M \otimes_A N$ but if the context is clear we can write $M\otimes N$. 
\end{enumerate}

\textbf{Note:} The correct definition of a tensor product is by a universal property that there's a one to one correspondence between the bilinear maps $M \times N \rightarrow P$ and the A-linear map $M\otimes N\rightarrow P$. But this is not important nor useful at this stage. Whatever it is is ultimately exactly equivalent to the definition above. 

The following isomorphisms are considered canonical. 
\begin{prop}
    Let M,N,P be A-modules. Then there exists unique isomorphism
    \begin{enumerate}
        \item $M\otimes N \rightarrow N\otimes N$, (given by $x\otimes y \mapsto y\otimes x$)
        \item $(M\otimes N) \otimes P \rightarrow M\otimes (N\otimes P) \rightarrow M\otimes N\otimes P$, (given by $(x\otimes y) \otimes z \mapsto x \otimes (y\otimes z) \mapsto x\otimes y \otimes z$)
        \item $(M\oplus N) \otimes P \rightarrow (M\otimes P) \oplus (N\otimes P)$, given by $(x,y)\otimes z \mapsto (x\otimes z, y\otimes z)$
        \item $A\otimes M \rightarrow M$, given by $a\otimes x \mapsto ax$. 
    \end{enumerate}
\end{prop}

\section{ Restriction and extension of scalars}

\begin{defn} 
    Let $f: A \rightarrow B$ be a ring homomorphism and $N$ be a B-module then the A-module defined by the action $f(a)x$ where $a\in A$ and $x\in N$ is called the A-module obtained by **restriction of scalars**.
The homomorphism induces an A-module structure on B. Then the module $M_B = B\otimes M$ where B is considered as an A-module is said to be obtained from M by the extension of scalars.
* $M_B$ also has a B-module structure as well by $b(b'\otimes x) = bb'\otimes x$. 
\end{defn}

\begin{prop} 
    Let N be a finitely generated B-modules and B be a finitely generated A-module then N is a finitely generated as an A-module.
\end{prop}

\begin{prop}
    If M is finitely generated as an A-module then $M_B$ is finitely generated as a B-module!
\end{prop}

\section{Exactness Properties of the Tensor Product}

The set $S$ of A-bilinear mappings $M\times N \rightarrow P$ is in natural 1-1 correspondence with $Hom(M,Hom(N,P))$ but by the definition of the Tensor product $S$ is in 1-1 correspondence with the A-linear maps $M\otimes N \rightarrow P$. There fore we have,
$$Hom(M\otimes N,P) \cong Hom(M,Hom(N,P))$$

For a A-module N let $T(M) = M\otimes N$ be a functor that takes modules to modules and let $U(P) = Hom(N,P)$. Then by the correspondence formula above we have, 
$$Hom(T(M),P) = Hom(M,U(P))$$

This condition means exactly in the language of category theory that T is the left-adjoint of U and that U is the right-adjoint of T. 

\textbf{Note:} The following proposition says that any functor which is left adjoint is right exact and any functor which is right adjoint is left exact. 

\begin{prop}
    If, $M' \rightarrow^f M \rightarrow^g M'' \rightarrow 0$ is an exact sequence of A-modules and homomorphisms then for any A-module N,
$$M'\otimes N \rightarrow^{f\otimes 1} M\otimes N \rightarrow^{g\otimes 1} M''\otimes N \rightarrow 0$$ 
is an exact sequence as well where 1 denotes the identity map taking N to N. 
\end{prop}

In general tensoring with an A-module does not turn an exact sequence into another exact sequence. But

\begin{defn} 
    (Flat Modules) Let N be an A-moduels and let $T_N: M\mapsto M\otimes N$ be a functor. If $T_N$ is exact, that is tensoring with N turns all exact sequences into exact sequences, then $N$ is called a flat module. 
\end{defn}

\begin{prop}
    The following statements are equivalent, for an A-module N:
    \begin{enumerate}
        \item N is flat
        \item If $0\rightarrow M' \rightarrow M\rightarrow M'' \rightarrow 0$ is any exact sequences of A-moduels, the tensored sequence $0\rightarrow M'\otimes N\rightarrow M\otimes N\rightarrow M''\otimes N \rightarrow 0$ is exact.
        \item If $f: M' \rightarrow M$ is injective, then $f\otimes 1: M'\otimes N \rightarrow M\otimes N$ is injective.
        \item If $f:M'\rightarrow M$ is injective and $M,M'$ are finitely generated, then $f\otimes 1: M'\otimes N \rightarrow M\otimes N$ is injective. 
    \end{enumerate}
\end{prop}

\begin{exercise}
    A partially ordered set $I$ is said to be a directed set if for each pair $i, j$ in $I$ there exists $k\in I$ such that $i\leq k$ and $j\leq k$. 

    Let $A$ be a ring, let $I$ be a directed set and let $(M_i)_{i\in I}$ be a family of $A$-modules indexed by $I$. For each pair $i,j$ in $I$ such that $i\leq j$, let $\mu_{ij}: M_i \rightarrow M_j$ be an $A$-homomorphism, and suppose that the following axioms are satisfied:
    \begin{enumerate}
        \item $\mu_{ij}$ is the identity mapping of $M_i$, for all $i\in I$.
        \item $\mu_{ik} = \mu_{jk} \circ \mu_{ij}$ whenever $i\leq j\leq k$.
    \end{enumerate}

    Then the module $M_i$ and homomorphism $\mu_{ij}$ are said to form a directed system  $M = (M_i, \mu_{ij})$ over the directed set $I$. 

    We shall construct an $A$-module $M$ called the direct limit of the direct system $M$. Let $C$ be the direct sum of the $M_i$, and identify each module $M_i$ with it's canonical image in $C$. Let $D$ be the submodule of $C$ generated by all elements of the form $x_i-\mu_{ij}(x_i)$ where $i\leq j$ and $x_i\in M_i$, Let $M= C/D$, let $\mu: C \rightarrow M$ be the projection and let $\mu_j$ be the restriction of $\mu$ to $M_i$. 

    The module $M$, or more correctly the pair consisting of $M$ and the family of homomorphisms $\mu_i: M_i \rightarrow M$, is called the direct limit of the direct sytem $M$, and is written $\varinjlim M_i$. From the construction it is clear that $\mu_i = \mu_j \circ \mu_{ij}$ whenever $i\leq j$.
    (Ex 14)
\end{exercise}

\begin{exercise}
    Show that the direct limit is characterized (up to isomorphism) by the following property. Let $N$ be an $A$-module and for each $i\in I$ let $\alpha_i: M_i\rightarrow N$ be an $A$-module homomorphism such that $\alpha_i = \alpha_j \circ \mu_{ij}$ whenever $i\leq j$. Then there exists a unique homomorphism $\alpha: M\rightarrow N$ such that $\alpha_i = \alpha \circ \mu_i$ for all $i\in I$.
    (Ex 16)
\end{exercise}

% End of Chapter

\chapter{Rings and Modules of Fractions}

\section{Ring of Fractions}

The standard rings of fraction of a ring $A$ can only be defined when $A$ is an integral domain. But we can generalise the notion to arbitary rings. Let $A$ be a commutative ring and $S$ be a *multiplicative subset* of $A$. That is $1\in S$ and for every $x,y\in S$, $xy\in S$. Define the equivalence relation $\sim$ on $A\times S$ to be:
$$(a,s) \sim (b,t) \Leftrightarrow (at-bs)u=0 \text{ for some } u\in S.$$

\begin{defn}
    Define the fraction $a/s$ to be the equivalence class of $(a,s)$ and let $S^{-1}A$ denote the set of these equivalence classes. Then $S^{-1}A$ is a ring with addition and multiplication defined by,
$$(a/s) + (b/t) = (at+bs)st,$$
$$(a/s)(b/t) = ab/st.$$
$S^{-1}A$ is called the ring of fraction of A with respect to $S$. By $f$ we mean the ring homomorphism $f: A \rightarrow S^{-1}A$ defined by $f(x) = x/1$. 
\end{defn}

\begin{exercise}
    Verify that these definitions are indepenent of the choices of representatives $(a,s)$ and $(b,t)$, and that $S^{-1}A$ satisfies the axioms of a commutative ring with identity.
\end{exercise}

The ring $S^{-1}A$ and the homomorphism $f:A\rightarrow S^{-1}A$ have the following property:
\begin{enumerate}
    \item $s\in S \implies f(s)$ is a unit in $S^{-1}A$. 
    \item $f(a) = 0 \implies as = 0$ for some $s\in S$. 
    \item Every element of $S^{-1}A$ is of the form $f(a)f(s)^{-1}$ for some $a\in A$ and some $s\in S$. 
\end{enumerate}

\section{Localization}

$S = A - \mathfrak{p}$, is a multiplicative subset of $A$ $\Leftrightarrow \mathfrak{p}$ is prime. In this case write $A_\mathfrak{p}$ instead of $S^{-1}A$. **The process of passing from $A$ to $A_\mathfrak{p}$ is called localisation at $\mathfrak{p}$.**

\begin{enumerate}
    \item **$A_\mathfrak{p}$** is a local ring. To see this we construct an ideal $\mathfrak{m}$ in $A_\mathfrak{p}$ as the set of elements $a/s \in A_\mathfrak{p}$ such that $a\in \mathfrak{p}$. $\mathfrak{m}$ has the property that if $b/s\not \in \mathfrak{m}$ then $b\not \in \mathfrak{p}$ and hence $b\in S$ which makes $b/s$ a unit. So if $A_\mathfrak{p}$ contains an ideal not in $\mathfrak{m}$ then it must contain a unit and so it's the whole ring. Therefore $\mathfrak{m}$ is the only maximal ideal of $A_\mathfrak{p}$. 
    \item $S^{-1}A$ is the zero ring if and only if $0\in S$. 
    \item Let $f\in A$ and let $S = \{f^n\}_{n\geq 0}$. We denote by $A_f$, the ring of fractions $S^{-1}A$.
    \item **Example:** If $\mathfrak{a}$ is an ideal in A then $S = 1+\mathfrak{a}$ is multiplicatively closed. 
    \item Local ring of $k^n$ along the variety $V$: Let $A = k[t_1,\cdots,k_n]$ where $k$ is a field. $A_\mathfrak{p}$ is the set of all rational functions $f/g$ where $g\not \in \mathfrak{p}$. If $V = V(\mathfrak{p})$ is a vareity then $A_\mathfrak{p}$ can be identified with the ring of all rational function on $k^n$ that are defined at almost all points in $V$. 
\end{enumerate}

\section{Ring of fraction of Modules}

$S^{-1}M$ is an $S^{-1}A$-module when M is an A-module. When $S = A-\mathfrak{p}$ we denote the ring of fractions by $M_\mathfrak{p}$.

If $u: M\rightarrow N$ is an A-module homomorphism. Then it gives rise to an $S^{-1}A$-module homomorphism $S^{-1}u: S^{-1}M \rightarrow S^{-1}N$, namely $S^{-1}u$ maps $m/s$ to $u(m)/s$. We have $S^{-1}(v\circ u) = (S^{-1}v) \circ (S^{-1}u)$

\begin{prop}
    $S^{-1}$ is exact.  If $M'\rightarrow_f M \rightarrow_g M''$ is exact at M then $S^{-1}M \rightarrow_{S^{-1}f} S^{-1}M \rightarrow_{S^{-1}g} S^{-1}M''$ is exact at $S^{-1}M$. 
\end{prop}

If $M'$ is a submodule of $M$ then $S^{-1}M' \rightarrow S^{-1}M$ is injective and $S^{-1}M'$ is a submodule of $S^{-1}M$. 

\begin{corollary}
    Formation of fractions commutes with formation of finite sums, finite intersections and quotients. Precisely, if N,P are submodules of an A-module M, then,
    \begin{enumerate}
        \item $S^{-1}(N+P) = S^{-1}(N) + S^{-1}(P)$
        \item $S^{-1}(N\cap P) = S^{-1}N \cap S^{-1}P$
        \item $S^{-1}(M/N)$ and $S^{-1}M / S^{-1}N$ are isomorphic.
    \end{enumerate}
\end{corollary}

\begin{prop}
    Let M be an A-module. Then $S^{-1}M$ is isomorphic to $S^{-1}A \otimes_A M$. That is there exists a unique isomorphism $f:S^{-1}A \otimes_A M \rightarrow S^{-1}M$ given by,
$$f((a/s)\otimes m) = am/s \text{ for all } a\in A, m\in M \text{ and } s\in S$$
\end{prop}

\begin{corollary}
    $S^{-1}A$ is a flat A-module.
\end{corollary}

\begin{prop} 
    If M,N are A-modules then there is a unique isomorphism, $f: S^{-1}M\otimes_{S^{-1}A} S^{-1}N \rightarrow S^{-1}(M\otimes_A N)$ given by,
$$f((m/s)\otimes (n/t)) = (m\otimes n)/st$$
If $\mathfrak{p}$ is any prime ideal then
$$M_\mathfrak{p}\otimes_{A_\mathfrak{p}} N_\mathfrak{p} \cong (M\otimes_A N)_\mathfrak{p}$$
\end{prop}

\section{Some examples of local properties}

\begin{prop}
    Let M be an A-moduel. Then the following are equivalent:
    \begin{enumerate}
        \item M = 0
        \item $M_\mathfrak{p} = 0$ for all prime ideals $\mathfrak{p}$ of A
        \item $M_\mathfrak{m} = 0$ for all maximal ideals $\mathfrak{m}$ of A
    \end{enumerate}
\end{prop}

\begin{prop}
    Let $\phi: M\rightarrow N$ be an A-module homomorphism. Then the following are equivalent:
    \begin{enumerate}
        \item $\phi$ is injective
        \item $\phi_\mathfrak{p}: M_\mathfrak{p} \rightarrow N_\mathfrak{p}$ is injective for each prime ideal $\mathfrak{p}$. 
        \item $\phi_\mathfrak{m}: M_\mathfrak{m} \rightarrow N_\mathfrak{m}$ is injective for each maximal ideal $\mathfrak{m}$. 
Similarily with "injective" replaced by "surjective" throughout. 
    \end{enumerate}
\end{prop}

\textbf{Note:} Flatness is a local property.

\begin{prop}
    For any A-module M, the following statements are equivalent:
    \begin{enumerate}
        \item M is a flat A-module
        \item $M_\mathfrak{p}$ is a flat $A_\mathfrak{p}$-module for each prime ideal $\mathfrak{p}$.
        \item $M_\mathfrak{m}$ is a flat $A_\mathfrak{m}$-module for each maximal ideal $\mathfrak{m}$
    \end{enumerate}
\end{prop}

\begin{exercise}
    \begin{enumerate}
        \item Let $A$ be a ring. $S$ is a multiplicativel closed subset of $A$, and $\phi: A\rightarrow S^{-1}A$ the canonical homomorphism. Show that $\phi^*: Spec(S^{-1}A) \rightarrow Spec(A)$ is a homomorphism of $Spec(S^{-1}A)$ onto it's image in $X = Spec(A)$. Let this image be denoted by $S^{-1}X$.    
    In particular, if $f\in A$, the image of $Spec(A_f)$ in $X$ is the basic open set $X_f$. 
        \item Let $f:A \rightarrow B$ be a ring homomorphism. Let $X = Spec(A)$ and $Y = Spec(B)$, and let $f^*: Y\rightarrow X$ be the mapping associated with $f$. Identifying $Spec(S^{-1}A)$ with its canonical image $S^{-1}X$ in $X$, and $Spec(S^{-1}B) (= Spec (f(S)^{-1}B))$ with its canonical image $S^{-1}Y$ in $Y$, show that $S^{-1}f^*: Spec(S^{-1}B)\rightarrow Spec(S^{-1}A)$ is the restriction of $f^*$ to $S^{-1}Y$, and that $S^{-1}Y = f^{*-1}(S^{-1}X)$.
        \item Let $\mathfrak{a}$ be an ideal of $A$ and let $\mathfrak{b} = \mathfrak{b}^e$ be it's extension in $B$. Let $\bar{f}:A/\mathfrak{a} \rightarrow B/\mathfrak{b}$ be the homomorphism induced by $f$. If $Spec(A/\mathfrak{a})$ is identified with its cannonical image $V(\mathfrak{a})$ in $X$, and $Spec(B/\mathfrak{b})$ with its image $V(\mathfrak{b})$ in $Y$, show that $\bar{f}^*$ is the restriction of $f^*$ to $V(\mathfrak{b})$.
        \item Let $\mathfrak{p}$ be a prime ideal of $A$. Take $S = A - \mathfrak{p}$ in 2) and then reduce $\text{mod } S^{-1}\mathfrak{p}$ as in 3). Deduce that the subspace $f^{*-1}(\mathfrak{]})$ of $Y$ is naturally homeomorphic to $Spec(B_\mathfrak{p}/\mathfrak{p}B_\mathfrak{p}) = Spec(k(\mathfrak{p}) \otimes_A B)$, where $k(\mathfrak{p}$ is the residue field of the local ring $A_\mathfrak{p}$.

            $Spec(k(\mathfrak{p}) \otimes_A B)$ is called the fiber of $f^*$ over $\mathfrak{p}$. 
    \end{enumerate}
    (Ex 21)
\end{exercise}

\begin{exercise}
    Let $A$ be a ring and $\mathfrak{p}$ a prime ideal of $A$. Then the canonical image of $Spec(A_\mathfrak{p})$ in $Spec(A)$ is equal to the intersection of all the open neighborhoods of $\mathfrak{p}$ in $Spec(A)$. 
    (Ex 22)
\end{exercise}

\begin{exercise}
    Let $A$ be a ring, let $X = Spec(A)$ and let $U$ be a basic open set in $X$ (i.e. $U=X_f$, for some $f\in A$: Chapter 1, Ex 17)
    \begin{enumerate}
        \item If $U=X_f$, show that the ring $A(U) = A_f$ depends only on $U$ and not on $f$.
        \item Let $U' = X$, be anohter basic open set such that $U'\subseteq U$. Show that there is an equation of the form $g^{n} = uf$ for some integer $n>0$ and some $u\in A$ and use this to define a homomorphism $\rho: A(U)\rightarrow A(U')$ (i.e, $A_f\rightarrow A_g$) by mapping $a/f^m$ to $au^m/g^{mn}$. Show that $\rho$ depends only on $U$ and $U'$. This homomorphism is called the restriction homomorphism.
        \item If $U = U'$, then $\rho$ is the identity map.
        \item If $U \supseteq U' \supseteq U^{''}$ are basic open sets in $X$, show that the diagram
        $$\begin{tikzcd}
                A(U) \arrow[rr] \arrow[rd] &  & A(U^{''}) \\
                & A(U') \arrow[ru] &          
            \end{tikzcd}$$

            (in which the arrows are restriction homomorphisms) is commutative.
        \item Let $x (=\mathfrak{p})$ be a point of $X$. Show that
            $$\varinjlim_{U\ni x} \cong A_\mathfrak{p}$$
    \end{enumerate}

    The assignment of the ring $A(U)$ to each basic open set $U$ of $X$, and the restriction homomorphism $\rho$, satisfying the conditions 3) and 4) above, constitutes a presheaf of rings on the basic of open sets $(X_f)_{f\in A}$. 5) says that the stalk of this presheaf at $x\in X$ is the corresponding local ring $A_\mathfrak{p}$. 
    (Ex 23)
\end{exercise}

\begin{exercise}
    Show that the presheaf of Ex 23 has the following property. Let $(U_f)_{f\in A}$ be a covering o $X$ by basic open sets. For each $i\in I$ let $s_i\in A(U_i)$ be such that, for each pair of indices $i,j$, the images of $s_i$ and $s_j$ in $A(U_i\cap U_j)$ are equal. Then there exists a unique $s\in A(=A(X))$ whose image in $A(U_i)$ is $s_i$, for all $i\in I$. (This essentially implies that the presheaf is a sheaf.)
    (Ex 24)
\end{exercise}

\begin{exercise}
    \begin{enumerate}
        \item Let $f_\alpha: A\rightarrow B_\alpha$ be any family of $A$-algebras and let $f:A\rightarrow B$ be their tensor product over $A$ (Chap 2, Ex 23). Then
            $$f^*(Spec(B)) = \bigcap_\alpha f^*_\alpha(Spec(B_\alpha)).$$
        \item Let $f_\alpha: A\rightarrow B_\alpha$ be any finite family of $A$-algebras and let $B = \prod_\alpha B_\alpha$. Define $f:A\rightarrow B$ by $f(x) = (f_\alpha(x))$. Then $f^*(Spec(B)) = \bigcup_\alpha f^*_\alpha(Spec(B_\alpha))$. 
        \item Hence the subsets of $X = Spec(A)$ of the form $f^*(Spec(B))$, where $f:A\rightarrow B$ is a ring homomorphism, satisfy the axioms for closed sets in a topological space. The associated topology is the constrictible topology on $X$. It is finer than the Zariski topology (i.e, there are more open sets, or equivalently more closed sets).
        \item Let $X_C$ denote the set $X$ endowed with the constrictible topology. Show that $X_C$ is quasi-compact.
    \end{enumerate}
    (Ex 27)
\end{exercise}

\begin{exercise}
    \begin{enumerate}
        \item For each $g\in A$, the set $X_g$ (Chap 1, Ex 17) is both open and closed in the constructible topology.
        \item Let $C'$ denote the smallest topology on $X$ for which the sets $X_g$ are both open and closed, and let $X_C$ denote the set $X$ endowed with this topology. Show that $X_C$ is Hausdorff.
        \item Deduce that the identity mapping $X_C\rightarrow X_{C'}$ is a homeomorphism. Hence a subset $E$ of $X$ is of the form $f^*(Spec(B))$ for some $f:A\rightarrow B$ if and only if it is closed in the topology of $C'$. 
        \item The topological space $X_C$ is compact, Hausdorff and totally disconnected. 
    \end{enumerate}
    (Ex 28)
\end{exercise}

\begin{exercise}
    Let $f:A\rightarrow B$ be a ring homomorphism. Show that $f^*: Spec(B)\rightarrow Spec(A)$ is a continuous closed mapping (i.e., maps closed sets to closed sets) for the constructible topology.
    (Ex 29)
\end{exercise}

\begin{exercise}
    Show that the Zariski topology and the constructible topology on $Spec(A)$ are the same if and only if $A/\mathfrak{N}$ is absolutely flat (where $\mathfrak{N}$ is the nilradical of $A$). 
    (Ex 30)
\end{exercise}

\begin{exercise}
    Let $A$ be a ring. Prove that the following are equivalent:
    \begin{enumerate}
        \item $A/\mathfrak{N}$ is absolutely flat ($\mathfrak{N}$ being the nilradical of $A$).
        \item Every prime ideal of $A$ is maximal.
        \item $Spec(A)$ is $T_1$-space (i.e., every subset consisting of a single point is closed).
        \item $Spec(A)$ is Hausdorff.
    \end{enumerate}
    If these conditions are satisfied, show that $Spec(A)$ is compact and totally disconnected (i.e., the only connected subsets of $Spec(A)$ are those consisting of a single point). 
    (Ex 11)
\end{exercise}


% End of Chapter


\chapter{Integral Dependence and the Going-Up Theorem}

\section{Integral Dependence}

The going up and going down theorems are due to Cohen-Seidenberg.

\begin{defn} 
    (Integral element) Let B be a ring and A as subring of B with unity. An element $x$ in B is said to be *integral* over A if $x$ is a root of a *monic* polynomial with coefficients in A, i.e. if $x$ satisfies an equation of the form
$$x^n + a_1x^{n-1} + \cdots + a_n = 0$$
where $a_i\in A$. 
\end{defn}

Every element of A is integral over A.

\begin{examples} 
    $A = Z, B = Q$. If a rational number $x=r/s$ is integral over $Z$, where $r,s$ have no common factor, we have,
$$r^n + a_1r^{n-1}s + \cdots + a_ns^n = 0$$
the $a_i$ being rational integers. Hence $s$ divides $r^n$, hence $s=\pm 1$, hence $x\in Z$.
\end{examples}

\begin{prop}
    The following are equivalent:
    \begin{enumerate}
        \item $x\in B$ is integral over A.
        \item $A[x]$ is a finitely generated A-module.
        \item $A[x]$ is contained in a subring C of B such that C is a finitely generated A-module.
        \item There exists a faithful $A[x]$-module $M$ which is finitely generated as an A-module.
    \end{enumerate}
\end{prop}

\begin{corollary}
    Let $x_i (1 \leq i \leq n)$ be elements of B, each integral over A. Then the ring $A[x_1,\cdots,x_n]$ is a finitely generated A-module.
\end{corollary}

\begin{corollary}
    The set C of elements in B which are integral over A is a subring of B containing A. 
\end{corollary}

\begin{defn}
    (Integral Closure) The ring C in the above corollary is called the *integral closure* of A in B. If C=A, then A is said to be *integrally closed* in B. If C=B, the ring B is said to be *integral over* A.
\end{defn}

\begin{defn}
    Let $f:A\rightarrow B$ be a ring homomorphism, so that B is an A-algebra. Then $f$ is said to be *integral*, and B is said to be an *integral* A-algebra, if B is integral over its subring $f(A)$. In this terminology, the above results show that,
$$\text{finite type + integral = finite}$$
\end{defn}

\begin{corollary}
    If $A\subseteq B \subseteq C$ are rings and if B is integral over A and C is integral over B, then C is integral over A (transitivity of integral dependence). 
\end{corollary}

\begin{corollary}
    Let $A\subseteq B$ be rings and let C be the integral closure of A in B. Then C is integrally closed in B. 
\end{corollary}

We show that integral dependence is preserved on passing to quotients and to rings of fractions. 

\begin{prop}
    Let $A\subseteq B$ be rings, B integral over A.
    \begin{enumerate}
        \item If $\mathfrak{b}$ is an ideal of B and $\mathfrak{a = b^c} = A \cap \mathfrak{b}$, then $B/\mathfrak{b}$ is integral over $A/\mathfrak{a}$. 
        \item If S is a multiplicatively closed subset of A, then $S^{-1}B$ is integral over $S^{-1}A$.
    \end{enumerate}
\end{prop}

\section{The Going-up Theorem}

\begin{prop}
    Let $A\subseteq B$ be integral domains, B integral over A. Then B is a field if and only if A is a field. 
\end{prop}

\begin{corollary}
    Let $A\subseteq B$ be rings, B integral over A; let $\mathfrak{q}$ be a prime ideal of B and let $\mathfrak{p=q^c=q}\cap A$. Then $\mathfrak{q}$ is maximal if and only if $\mathfrak{p}$ is maximal. 
\end{corollary}

\begin{corollary}
    Let $A\subseteq B$ be rings. B integral over A; let $\mathfrak{q,q'}$ be prime ideals of B such that $\mathfrak{q\subseteq q'}$ and $\mathfrak{q^c = q'^{c} = p}$ say. Then $\mathfrak{q=q'}$.
\end{corollary}

\begin{theorem} 
    Let $A\subseteq B$ be rings, B integral over A, and let $\mathfrak{p}$ be a prime ideal of A, Then there exists a prime ideal $\mathfrak{q}$ of B such that $\mathfrak{q}\cap A = \mathfrak{p}$. 
\end{theorem}

\begin{theorem}
    (Going-up theorem)** Let $A\subseteq B$ be rings, B integral over A; let $\mathfrak{p_1 \subseteq \cdots \subseteq p_n}$ be a chain of prime ideals of A and $\mathfrak{q\subseteq \cdots \subseteq q_m} (m < n )$ a chain of prime ideals of B such that $\mathfrak{q_i}\cap A = \mathfrak{p_i} (1\leq i\leq m)$. Then the chain $\mathfrak{q_1\subset \cdots \subseteq q_m}$ can be extended to a chain $\mathfrak{q_1 \subseteq \cdots \subseteq q_n}$ such that $\mathfrak{q_i}\cap A = \mathfrak{p_i}$ for $1\leq i \leq n$.
\end{theorem}

\chapter{Hilbert's Nullstellensatz}
\section{The Nullstellensatz}

\begin{theorem}
    (Hilbert's Nullstellensatz). Suppose $\bar{k} = k$. Then, the following statements are both true and equivalent:
    \begin{enumerate}
        \item Given an ideal $J\subset \mathbb{A}^n_k$, we have $\sqrt{J} = I(V(J))$,
        \item Given an ideal $J\subset \mathbb{A}^n_k$, we have the implication $(V(J)) = \varnothing \implies J = \bar{k}[x_1,\cdots,x_n])$,
        \item The maximal ideals of $k[x_1,\cdots,x_n]$ are exactly $J = (x_1-a,\cdots, x_n-a_n), (a_1,\cdots,a_n)\in k^n$, with $\bar{k}[x_1,\cdots,x_n]/J \cong \bar{k}$
    \end{enumerate}
\end{theorem}



\begin{thebibliography}{9}
    % type bibliography here
\end{thebibliography}

\end{document}
